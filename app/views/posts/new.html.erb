<%= form_for(@post) do |f| %>
  <div class="field">
    <%= f.label :title %><br>
    <%= f.text_field :title %>
  </div>
  <div class="field">
    <%= f.label :description %><br>
    <%= f.text_field :description %>
  </div>
  <div class="actions">
    <%= f.submit %>
  </div>
<% end %>

<script type="text/javascript" charset="utf-8">
$(function() {
  $("form").submit(function(e) {
    e.preventDefault()
    let post_title = document.getElementById("post_title").value
    let post_description = document.getElementById("post_description").value
    let data = {title: post_title, description: post_description}
    fetch("http://localhost:3000/posts", {
      method: "post",
      headers: {
      'Accept': 'application/json',
      'Content-Type': 'application/json'},
      body: JSON.stringify({post: data})
    })
    .then(res => res.json())
    .then(json => {@post = json})})
    // let values = $(this).serialize();
    // posting.done(function(data) {
    //     var post = data;
    //     $("#postTitle").text(post["title"]);
    //     $("#postBody").text(post["description"]);
    //   });
  })
</script>
